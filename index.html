<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday — Celebration</title>
<style>
  :root{
    --bg-1:#0e0b16;
    --bg-2:#140b2d;
    --accent1:#ff66b3; /* pink */
    --accent2:#8b5cf6; /* purple */
    --gold1:#ffd166;
    --card-bg: rgba(255,255,255,0.03);
    --glass: rgba(255,255,255,0.04);
    --muted:#bdb8c6;
    --radius:14px;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter, "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(139,92,246,0.12), transparent),
                radial-gradient(1000px 500px at 90% 90%, rgba(255,102,179,0.06), transparent),
                linear-gradient(180deg,var(--bg-1),var(--bg-2));
    color:#fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    min-height:100vh;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    padding:28px;
    gap:18px;
  }

  .wrap{
    width:min(1100px,100%);
    margin:20px auto;
    display:flex;
    flex-direction:column;
    gap:20px;
    align-items:stretch;
  }

  /* Top card */
  .hero{
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border-radius:var(--radius);
    padding:26px;
    box-shadow:0 8px 30px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
    border:1px solid rgba(255,255,255,0.04);
    display:flex;
    gap:20px;
    align-items:center;
    flex-wrap:wrap;
  }

  .left {
    flex:1 1 420px;
    min-width:260px;
  }

  .title {
    font-size: clamp(22px, 4.6vw, 44px);
    font-weight:800;
    letter-spacing: -0.02em;
    line-height:1.02;
    color: white;
    margin-bottom:8px;
    display:flex;
    align-items:center;
    gap:12px;
  }

  .title .neon {
    color:var(--accent1);
    text-shadow:
      0 0 6px rgba(255,102,179,0.45),
      0 0 18px rgba(139,92,246,0.18),
      0 4px 30px rgba(0,0,0,0.6);
  }

  .typewriter {
    font-weight:700;
    font-size: clamp(16px, 2.6vw, 18px);
    color:var(--muted);
    margin-bottom:10px;
    min-height:26px;
  }

  .subtitle {
    color:var(--muted);
    font-size:14px;
    margin-top:6px;
  }

  /* Controls */
  .controls{
    display:flex;
    gap:10px;
    align-items:center;
    margin-top:12px;
  }

  .btn {
    background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    color:white;
    border:1px solid rgba(255,255,255,0.06);
    padding:10px 14px;
    border-radius:12px;
    cursor:pointer;
    font-weight:600;
    display:inline-flex;
    gap:10px;
    align-items:center;
    box-shadow:0 6px 18px rgba(0,0,0,0.45);
    transition:transform .18s ease, box-shadow .18s ease, opacity .12s ease;
    user-select:none;
  }
  .btn:active{transform:translateY(2px)}
  .btn.secondary{background:transparent; color:var(--muted); border:1px dashed rgba(255,255,255,0.04)}
  .btn .dot {
    width:10px;height:10px;border-radius:50%;
    background:linear-gradient(90deg,var(--gold1),#ffb677);
    box-shadow:0 6px 16px rgba(255,190,100,0.12);
  }

  /* Gallery */
  .gallery {
    display:grid;
    grid-template-columns: repeat(4,1fr);
    gap:12px;
    margin-top:6px;
  }

  .thumb {
    background:var(--glass);
    border-radius:12px;
    overflow:hidden;
    border:1px solid rgba(255,255,255,0.03);
    box-shadow: 0 8px 30px rgba(0,0,0,0.55);
    transition: transform .22s cubic-bezier(.2,.9,.3,1), box-shadow .22s;
    cursor:pointer;
    position:relative;
  }
  .thumb:active{transform:translateY(2px)}
  .thumb img, .thumb video {
    display:block;
    width:100%;
    height:100%;
    object-fit:cover;
  }
  .thumb .meta {
    position:absolute;
    left:8px; bottom:8px;
    background: linear-gradient(90deg, rgba(0,0,0,0.35), rgba(0,0,0,0.2));
    padding:6px 8px;
    border-radius:10px;
    font-size:12px;
    color: #fff;
    backdrop-filter: blur(6px);
  }

  /* responsive */
  @media (max-width:900px){
    .gallery{grid-template-columns:repeat(3,1fr)}
  }
  @media (max-width:600px){
    body{padding:16px}
    .gallery{grid-template-columns:repeat(2,1fr); gap:10px}
    .controls{flex-wrap:wrap}
    .left{flex-basis:100%}
  }

  /* Lightbox */
  .lightbox {
    position:fixed; inset:0; display:none; z-index:1200;
    align-items:center; justify-content:center;
    background: linear-gradient(180deg, rgba(2,2,5,0.75), rgba(0,0,0,0.86));
    padding:20px;
  }
  .lightbox.open{display:flex}
  .lightbox .card {
    max-width:1100px; width:100%; max-height:92vh; border-radius:12px; overflow:hidden;
    box-shadow:0 30px 90px rgba(0,0,0,0.8);
  }
  .lightbox img, .lightbox video { width:100%; height:100%; object-fit:contain; background:black; display:block}
  .lightbox .close {
    position:absolute; right:20px; top:18px; z-index:1300;
    background:transparent; border:1px solid rgba(255,255,255,0.06); color:white;
    padding:10px 12px; border-radius:10px; cursor:pointer; font-weight:700;
  }

  /* Confetti canvas sits top */
  #confettiCanvas {
    position:fixed; inset:0; z-index:1000; pointer-events:none;
  }

  /* footer small */
  .footer {
    text-align:center; color:var(--muted); font-size:13px; margin-top:6px;
  }

  /* subtle entrance */
  .hidden {opacity:0; transform:translateY(8px)}
  .animate-in {animation:fadeInUp .6s forwards}
  @keyframes fadeInUp{to{opacity:1; transform:none}}

</style>
</head>
<body>
  <div class="wrap">

    <div class="hero">
      <div class="left">
        <div class="title">
          <span class="neon">🎉 Happy Birthday Ankush</span>
          <span style="font-size:14px; color:var(--muted); font-weight:600; margin-left:auto;">Make it legendary ✨</span>
        </div>

        <div class="typewriter" id="typewriter" aria-live="polite"></div>
        <div class="subtitle">Tap any image/video to view — works on mobile & desktop. Music: toggle at top-right.</div>

        <div class="controls" style="margin-top:12px">
          <button class="btn" id="playToggle" title="Play / Pause music">
            <svg id="iconPlay" width="16" height="16" viewBox="0 0 24 24" fill="none" style="display:inline-block">
              <path d="M5 3v18l15-9L5 3z" fill="currentColor"></path>
            </svg>
            <span id="playLabel">Play</span>
          </button>

          <button class="btn secondary" id="muteToggle" title="Mute / Unmute music">
            <span class="dot" id="muteDot" style="background:linear-gradient(90deg,var(--gold1),#ffb677)"></span>
            <span style="opacity:.95; font-weight:700">Unmuted</span>
          </button>

          <button class="btn secondary" id="replayConfetti" title="Confetti again">Celebrate ✨</button>
        </div>
      </div>

      <!-- right side: small preview of video or image -->
      <div style="width:320px; min-width:200px; display:flex; align-items:center; justify-content:center; gap:12px; flex-direction:column;">
        <div style="width:100%; border-radius:12px; overflow:hidden; border:1px solid rgba(255,255,255,0.04); box-shadow:0 12px 40px rgba(0,0,0,0.6)">
          <!-- show a preview video if available -->
          <video id="previewVideo" src="i (2).mp4" muted loop playsinline style="width:100%; display:block; height:200px; object-fit:cover; background:#000"></video>
        </div>
        <div style="font-size:13px; color:var(--muted)">Tap gallery below to open</div>
      </div>
    </div>

    <!-- Gallery -->
    <div class="gallery" id="gallery" aria-label="Image gallery">
      <!-- Using your original file names exactly as requested -->
      <div class="thumb" data-type="img" data-src="i (1).jpg" tabindex="0" aria-label="Open image 1">
        <img src="i (1).jpg" alt="photo 1">
        <div class="meta">1</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (2).jpg" tabindex="0" aria-label="Open image 2">
        <img src="i (2).jpg" alt="photo 2">
        <div class="meta">2</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (3).jpg" tabindex="0" aria-label="Open image 3">
        <img src="i (3).jpg" alt="photo 3">
        <div class="meta">3</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (4).jpg" tabindex="0" aria-label="Open image 4">
        <img src="i (4).jpg" alt="photo 4">
        <div class="meta">4</div>
      </div>

      <div class="thumb" data-type="img" data-src="i (5).jpg" tabindex="0">
        <img src="i (5).jpg" alt="photo 5">
        <div class="meta">5</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (6).jpg" tabindex="0">
        <img src="i (6).jpg" alt="photo 6">
        <div class="meta">6</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (7).jpg" tabindex="0">
        <img src="i (7).jpg" alt="photo 7">
        <div class="meta">7</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (8).jpg" tabindex="0">
        <img src="i (8).jpg" alt="photo 8">
        <div class="meta">8</div>
      </div>

      <div class="thumb" data-type="img" data-src="i (9).jpg" tabindex="0">
        <img src="i (9).jpg" alt="photo 9">
        <div class="meta">9</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (10).jpg" tabindex="0">
        <img src="i (10).jpg" alt="photo 10">
        <div class="meta">10</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (11).jpg" tabindex="0">
        <img src="i (11).jpg" alt="photo 11">
        <div class="meta">11</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (12).jpg" tabindex="0">
        <img src="i (12).jpg" alt="photo 12">
        <div class="meta">12</div>
      </div>

      <div class="thumb" data-type="img" data-src="i (13).jpg" tabindex="0">
        <img src="i (13).jpg" alt="photo 13">
        <div class="meta">13</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (14).jpg" tabindex="0">
        <img src="i (14).jpg" alt="photo 14">
        <div class="meta">14</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (15).jpg" tabindex="0">
        <img src="i (15).jpg" alt="photo 15">
        <div class="meta">15</div>
      </div>
      <div class="thumb" data-type="img" data-src="i (16).jpg" tabindex="0">
        <img src="i (16).jpg" alt="photo 16">
        <div class="meta">16</div>
      </div>

      <div class="thumb" data-type="img" data-src="i (17).jpg" tabindex="0">
        <img src="i (17).jpg" alt="photo 17">
        <div class="meta">17</div>
      </div>

      <!-- videos -->
      <div class="thumb" data-type="video" data-src="i (1).mp4" tabindex="0" aria-label="Open video 1">
        <video src="i (1).mp4" muted playsinline></video>
        <div class="meta">vid 1</div>
      </div>
      <div class="thumb" data-type="video" data-src="i (2).mp4" tabindex="0" aria-label="Open video 2">
        <video src="i (2).mp4" muted autoplay loop playsinline></video>
        <div class="meta">vid 2</div>
      </div>
    </div>

    <div class="footer">Made with ❤️ — Open the gallery and enjoy the party. Tip: On mobile, tap an image to view it full screen.</div>
  </div>

  <!-- Lightbox modal -->
  <div class="lightbox" id="lightbox" role="dialog" aria-hidden="true">
    <button class="close" id="lbClose" aria-label="Close (Esc)">✕</button>
    <div class="card" id="lbContent" role="document"></div>
  </div>

  <!-- Confetti canvas -->
  <canvas id="confettiCanvas" width="800" height="600" aria-hidden="true"></canvas>

  <!-- audio element -->
  <audio id="bgAudio" loop preload="auto">
    <source src="Happy Birthday To You Ji - 320Kbps-(Mr-Jat.in).mp3" type="audio/mpeg">
    <!-- fallback: browser will show no audio if not supported -->
  </audio>

<script>
/* -------- Typewriter -------- */
const lines = [
  "Wishing you a day full of love, laughter, and awesome memories.",
  "May this year bring bigger wins, brighter smiles, and wildest dreams come true.",
  "Let's celebrate — click any photo or video below. 🎊"
];
const twEl = document.getElementById('typewriter');

async function typeLine(text, el, speed=32){
  return new Promise(resolve=>{
    el.textContent = '';
    let i=0;
    const iv = setInterval(()=>{
      el.textContent += text.charAt(i);
      i++;
      if(i>=text.length){ clearInterval(iv); setTimeout(resolve, 450); }
    }, speed);
  });
}

async function runTypewriter(){
  for(const line of lines){
    await typeLine(line, twEl, 24);
    // small pause before erasing or next line
    if(line !== lines[lines.length-1]){
      await new Promise(r=>setTimeout(r,350));
      // preserve previous lines by moving them into small subtitle
      // here we simply keep them; no erase to keep content readable
      twEl.textContent += "\n";
    }
  }
  // finished: trigger confetti
  fireConfetti(220);
  // reveal animation for gallery
  document.querySelectorAll('.thumb').forEach((t,i)=>{
    setTimeout(()=> t.classList.add('animate-in'), 80*i);
  });
}
runTypewriter();

/* -------- Confetti (golden) -------- */
const confettiCanvas = document.getElementById('confettiCanvas');
const ctx = confettiCanvas.getContext('2d');
let W = confettiCanvas.width = window.innerWidth;
let H = confettiCanvas.height = window.innerHeight;
window.addEventListener('resize', ()=>{ W = confettiCanvas.width = window.innerWidth; H = confettiCanvas.height = window.innerHeight; });

const confettiPieces = [];
function makePiece(){
  const x = Math.random()*W;
  const y = -20;
  return {
    x, y,
    vx: (Math.random()-0.5)*6,
    vy: 3 + Math.random()*5,
    size: 6 + Math.random()*8,
    tilt: Math.random()*Math.PI,
    color: ['#ffd166','#ffb677','#ffd98e'][Math.floor(Math.random()*3)],
    life: 0,
    ttl: 160 + Math.random()*60
  };
}

function fireConfetti(count=100){
  for(let i=0;i<count;i++){
    confettiPieces.push(makePiece());
  }
  if(!animating) { animating = true; requestAnimationFrame(confettiLoop); }
}

let animating=false;
function confettiLoop(){
  ctx.clearRect(0,0,W,H);
  for(let i=confettiPieces.length-1;i>=0;i--){
    const p = confettiPieces[i];
    p.x += p.vx;
    p.y += p.vy;
    p.vy += 0.03;
    p.tilt += 0.15;
    p.life++;
    // draw rectangle rotated
    ctx.save();
    ctx.translate(p.x, p.y);
    ctx.rotate(Math.sin(p.tilt)*0.5);
    ctx.fillStyle = p.color;
    ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size*0.6);
    ctx.restore();

    if(p.y > H + 50 || p.life > p.ttl) confettiPieces.splice(i,1);
  }
  if(confettiPieces.length>0) requestAnimationFrame(confettiLoop);
  else animating=false;
}

/* replay confetti button */
document.getElementById('replayConfetti').addEventListener('click', ()=>fireConfetti(200));

/* -------- Gallery / Lightbox -------- */
const gallery = document.getElementById('gallery');
const lightbox = document.getElementById('lightbox');
const lbContent = document.getElementById('lbContent');
const lbClose = document.getElementById('lbClose');

function openLightbox(type, src){
  lbContent.innerHTML = '';
  if(type === 'img'){
    const img = document.createElement('img');
    img.src = src;
    img.alt = 'photo';
    lbContent.appendChild(img);
  } else if(type === 'video'){
    const vid = document.createElement('video');
    vid.src = src;
    vid.controls = true;
    vid.autoplay = true;
    vid.playsInline = true;
    lbContent.appendChild(vid);
  }
  lightbox.classList.add('open');
  lightbox.setAttribute('aria-hidden','false');
  // trap focus minimalist
  lbClose.focus();
}
function closeLightbox(){
  lightbox.classList.remove('open');
  lightbox.setAttribute('aria-hidden','true');
  lbContent.innerHTML = '';
}

gallery.addEventListener('click', (e)=>{
  const thumb = e.target.closest('.thumb');
  if(!thumb) return;
  const type = thumb.getAttribute('data-type');
  const src = thumb.getAttribute('data-src');
  openLightbox(type, src);
});

gallery.addEventListener('keydown', (e)=>{
  if(e.key === 'Enter' || e.key === ' ') {
    e.preventDefault();
    const thumb = e.target.closest('.thumb');
    if(!thumb) return;
    openLightbox(thumb.getAttribute('data-type'), thumb.getAttribute('data-src'));
  }
});

lbClose.addEventListener('click', closeLightbox);
lightbox.addEventListener('click', (e)=>{ if(e.target === lightbox) closeLightbox(); });
document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeLightbox(); });

/* -------- Preview video play muted loop */
const previewVideo = document.getElementById('previewVideo');
previewVideo.addEventListener('click', ()=> {
  if(previewVideo.paused) previewVideo.play(); else previewVideo.pause();
});

/* -------- Audio controls (autoplay friendly fallback) -------- */
const bgAudio = document.getElementById('bgAudio');
const playToggle = document.getElementById('playToggle');
const playLabel = document.getElementById('playLabel');
const muteToggle = document.getElementById('muteToggle');
const muteDot = document.getElementById('muteDot');

let isPlaying = false;
let isMuted = false;

// Attempt autoplay: browsers may block autoplay with sound. We'll try to play muted first for compatibility.
function tryAutoplay(){
  bgAudio.muted = true;
  bgAudio.play().then(()=>{
    // autoplay success muted
    isPlaying = true;
    playLabel.textContent = 'Playing';
    bgAudio.muted = true; // keep muted until user unmutes
    isMuted = true;
    updateMuteUI();
  }).catch(()=>{
    // can't autoplay even muted; show Play state (user must tap)
    isPlaying = false;
    playLabel.textContent = 'Play';
    isMuted = true;
    updateMuteUI();
  });
}
tryAutoplay();

function updateMuteUI(){
  muteDot.style.opacity = isMuted ? '0.95' : '0.4';
  muteToggle.querySelector('span:last-child').textContent = isMuted ? 'Muted' : 'Unmuted';
  playLabel.textContent = isPlaying ? (bgAudio.muted ? 'Playing (muted)' : 'Playing') : 'Play';
}

playToggle.addEventListener('click', async ()=>{
  if(!isPlaying){
    try{
      await bgAudio.play();
      isPlaying = true;
      bgAudio.muted = isMuted;
      playLabel.textContent = bgAudio.muted ? 'Playing (muted)' : 'Playing';
    }catch(err){
      // play failed — try to unmute then play
      bgAudio.muted = false;
      isMuted = false;
      try{ await bgAudio.play(); isPlaying = true; } catch(e){ isPlaying=false; alert('Playback blocked by browser. Tap the Play button again or interact with the page.'); }
    }
  } else {
    bgAudio.pause();
    isPlaying = false;
    playLabel.textContent = 'Play';
  }
});

muteToggle.addEventListener('click', ()=>{
  // if not playing, start playback first
  if(!isPlaying){
    bgAudio.play().catch(()=>{});
    isPlaying = true;
  }
  isMuted = !isMuted;
  bgAudio.muted = isMuted;
  updateMuteUI();
});

/* -------- Accessibility tiny focus ring for keyboard users -------- */
document.addEventListener('keyup', (e)=>{
  if(e.key === 'Tab') document.body.classList.add('show-focus');
});

/* -------- small improvements: pause gallery videos until in view to save perf -------- */
const vids = document.querySelectorAll('.thumb video');
const obs = new IntersectionObserver(entries=>{
  entries.forEach(ent=>{
    const v = ent.target;
    if(ent.isIntersecting){ v.play().catch(()=>{}); } else { try{ v.pause(); } catch{} }
  });
},{threshold:0.3});
vids.forEach(v=>obs.observe(v));

/* end script */
</script>
</body>
</html>
